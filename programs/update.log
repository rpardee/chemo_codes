1                                                          The SAS System                            07:14 Wednesday, April 27, 2011

NOTE: Copyright (c) 2002-2008 by SAS Institute Inc., Cary, NC, USA. 
NOTE: SAS (r) Proprietary Software 9.2 (TS1M0) 
      Licensed to GROUP HEALTH COOPERATIVE OF PUGET SOUND, Site 70007081.
NOTE: This session is executing on the XP_PRO  platform.



NOTE: SAS initialization used:
      real time           2.87 seconds
      cpu time            0.62 seconds
      
1          /*********************************************
2          * Roy Pardee
3          * Group Health Research Institute
4          * (206) 287-2078
5          * pardee.r@ghc.org
6          *
7          * c:\Documents and Settings\pardre1\My Documents\vdw\chemo_codes\programs\update.sas
8          *
9          * <<purpose>>
10         *********************************************/
11         
12         %**include "\\home\pardre1\SAS\Scripts\remoteactivate.sas" ;
13         
14         options
15           linesize = 150
16           nocenter
17           msglevel = i
18           NOOVP
19           formchar = '|-++++++++++=|-/|<>*'
20           dsoptions="note2err" NOSQLREMERGE
21         ;
22         
23         %let mdb_file = C:\Documents and Settings\pardre1\My Documents\vdw\chemo_codes\data\chemo_codes.mdb ;
24         libname mdb ODBC required = "DRIVER=Microsoft Access Driver (*.mdb);DBQ=&mdb_file" ;
NOTE: Libref MDB was successfully assigned as follows: 
      Engine:        ODBC 
      Physical Name: 
25         
26         libname dat 'C:\Documents and Settings\pardre1\My Documents\vdw\chemo_codes\data' ;
NOTE: Libref DAT was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: C:\Documents and Settings\pardre1\My Documents\vdw\chemo_codes\data
27         
28         options orientation = landscape ;
2 The SAS System                                                                                                       07:14 Wednesday, April 27, 2011

29         
30         ods graphics / height = 6in width = 10in ;
31         
32         %let out_folder = C:\Documents and Settings\pardre1\My Documents\vdw\chemo_codes\output\ ;
33         
34         ods html path = "&out_folder" (URL=NONE)
35                  body = "chemo_list_reconciliation.html"
36                  (title = "Chemo List Reconciliation")
37                   ;
NOTE: Writing HTML Body file: chemo_list_reconciliation.html
38         
39         proc sql ;
40           title "NDCs we have that arent in Addies dset" ;
41           select d.*
42           from mdb.drugs as d LEFT JOIN
43                 dat.rx_codes as r
44           on    d.ndc = r.ndc
45           where r.ndc IS NULL
46           order by chemo_type, ndc
47           ;
NOTE: SAS threaded sort was used.
48           title " " ;
49           title "Procs we have that arent in Addies dset" ;
50           select p.*
51           from    mdb.procedures as p LEFT JOIN
52                   dat.px_codes as a
53           on      p.px = a.px AND
54                   p.code_type = a.code_type
55           where   a.px IS NULL and p.code_type ne 'LHGR'
56           order by chemo_type, px
57           ;
NOTE: SAS threaded sort was used.
58         
59           title "NDCs in Addies dset that arent in ours." ;
60           select r.*
61           from mdb.drugs as d RIGHT JOIN
62                 dat.rx_codes as r
63           on    d.ndc = r.ndc
64           where d.ndc IS NULL
65           order by chemo_type, ndc
66           ;
3 The SAS System                                                                                                       07:14 Wednesday, April 27, 2011

NOTE: SAS threaded sort was used.
67           title " " ;
68           title "Procs in Addies dset that arent in ours." ;
69           select  a.*
70           from    mdb.procedures as p RIGHT JOIN
71                   dat.px_codes as a
72           on      p.px = a.px AND
73                   p.code_type = a.code_type
74           where   p.px IS NULL
75           order by chemo_type, px
76           ;
NOTE: SAS threaded sort was used.
77         
78         quit ;
NOTE: The PROCEDURE SQL printed pages 1-11.
NOTE: PROCEDURE SQL used (Total process time):
      real time           2.78 seconds
      cpu time            0.35 seconds
      

79         
80         
81         ods _all_ close ;
82         

NOTE: SAS Institute Inc., SAS Campus Drive, Cary, NC USA 27513-2414
NOTE: The SAS System used:
      real time           21.21 seconds
      cpu time            1.54 seconds
      
